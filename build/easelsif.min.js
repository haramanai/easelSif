/*
 Copyright (c) 2012 haramanai.
 sifPlayer easelSif
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
*/
this.sifPlayer=this.sifPlayer||{};
(function(){sifPlayer._getData=function(h){function f(d,e){b[d]?(b[d].constructor!=Array&&(b[d]=[b[d]]),b[d][b[d].length]=e):b[d]=e}var b={},d,e,g;for(d=0;e=h.attributes[d];d++)f("_"+e.name,sifPlayer._toSifValue(e.value));for(d=0;e=h.childNodes[d];d++)if(1==e.nodeType)if(g=e.nodeName,1==e.childNodes.length&&3==e.firstChild.nodeType)f(e.nodeName,sifPlayer._toSifValue(e.firstChild.nodeValue));else switch(g){case "param":b[e.getAttribute("name")]=sifPlayer._getData(e);break;case "layer":"undefined"==
typeof b[g]&&(b[g]=[]);switch(e.getAttribute("type")){case "rotate":case "translate":case "zoom":case "stretch":f("layer",{_type:"restore"});b.layer.unshift(sifPlayer._getData(e));break;case "timeloop":b.layer.unshift(sifPlayer._getData(e));break;default:f(e.nodeName,sifPlayer._getData(e))}break;case "waypoint":"undefined"==typeof b[g]&&(b[g]=[]);default:f(g,sifPlayer._getData(e))}return b};sifPlayer._secsToMillis=function(h){return 1E3*parseFloat(h.replace("s",""))};sifPlayer._canvasTimeToMillis=
function(h,f){var b=0,d;0<h.search("h")&&(d=h.split("h"),b+=36E5*d[0],h=d[1]);0<h.search("m")&&(d=h.split("m"),b+=6E4*d[0],h=d[1]);0<h.search("s")&&(d=h.split("s"),b+=1E3*d[0],h=d[1]);0<h.search("f")&&(d=h.split("f"),b+=1E3*d[0]/f);return b};sifPlayer._toSifValue=function(h){var f=Number(h);return!isNaN(f)?f:"true"===h?!0:"false"===h?!1:":"===h[0]?h.substr(1):h};sifPlayer._getEase=function(h){return"linear"===h||"clamped"===h||"halt"===h?createjs.Ease.none:"constant"===h?sifPlayer.Ease.constant:"auto"===
h?createjs.Ease.none:!1};sifPlayer.aabbFromEntries=function(h,f){for(var b=[h[0][0],h[0][1],h[0][0],h[0][1]],d=0,e=h.length;d<e;d++)h[d][0]<b[0]?b[0]=h[d][0]:h[d][0]>b[2]&&(b[2]=h[d][0]),h[d][2]<b[0]?b[0]=h[d][2]:h[d][2]>b[2]&&(b[2]=h[d][2]),h[d][4]<b[0]?b[0]=h[d][4]:h[d][4]>b[2]&&(b[2]=h[d][4]),h[d][1]<b[1]?b[1]=h[d][1]:h[d][1]>b[3]&&(b[3]=h[d][1]),h[d][3]<b[1]?b[1]=h[d][3]:h[d][3]>b[3]&&(b[3]=h[d][3]),h[d][5]<b[1]?b[1]=h[d][5]:h[d][5]>b[3]&&(b[3]=h[d][5]),f&&(b[0]-=f,b[1]-=f,b[2]+=f,b[3]+=f);return b};
sifPlayer._addToDesc=function(h,f){f._desc&&(h.name=f._desc,h.sifobj.desc[h.name]=h)};sifPlayer._checkTimeline=function(h){var h=h._tweens,f=!1;if(h)for(var b=0,d=h.length;b<d;b++)sifPlayer._checkTween(h[b])&&(f=!0);return f};sifPlayer._checkTween=function(h){var f=h._curQueueProps,h=h._target,b=h.preprops?h.preprops:{},d=!1,e;for(e in f)h[e]!==b[e]&&(d=!0),b[e]=h[e];h.preprops=b;return d};window.sifPlayer=sifPlayer})();(function(){var h={_getData:function(f){function b(b,e){d[b]?(d[b].constructor!=Array&&(d[b]=[d[b]]),d[b][d[b].length]=e):d[b]=e}var d={},e,g,i;for(e=0;g=f.attributes[e];e++)b("_"+g.name,sifPlayer._toSifValue(g.value));for(e=0;g=f.childNodes[e];e++)if(1==g.nodeType)if(i=g.nodeName,1==g.childNodes.length&&3==g.firstChild.nodeType)b(g.nodeName,sifPlayer._toSifValue(g.firstChild.nodeValue));else switch(i){case "param":d[g.getAttribute("name")]=h._getData(g);break;case "layer":"undefined"==typeof d[i]&&
(d[i]=[]);switch(g.getAttribute("type")){case "rotate":case "translate":case "zoom":case "stretch":b(g.nodeName,h._getData(g));break;case "timeloop":d.layer.unshift(h._getData(g));break;default:b(g.nodeName,h._getData(g))}break;case "waypoint":case "entry":case "bone_root":case "bone":"undefined"==typeof d[i]&&(d[i]=[]);default:b(i,h._getData(g))}return d},getTotalScale:function(f){for(var b=1,d=1;null!=f;)b*=f.scaleX,d*=f.scaleY,f=f.parent;return Math.sqrt(b*b+d*d)},_getLayer:function(f,b){if(sifPlayer.easelSif[b._type])return new sifPlayer.easelSif[b._type](f,
b);if("import"===b._type)return new sifPlayer.easelSif.Import(f,b);console.log("EERRROOR  "+b._type+" layer it's not supported")},_setTimeline:function(f){f.timeline=new createjs.Timeline;f.timeline.setPaused(!0)},_getBlend:function(f){switch(f){case 0:return"source-over";case 1:return"copy";case 13:return"source-atop";case 21:return"source-in";case 12:return"destination-over";case 19:return"destination-out";case 14:return"destination-in";default:return"source-over"}}};sifPlayer.easelSif=h})();(function(){Ease={constant:function(h){return 1>h?0:1},bool:function(h){return 1>h?1:0}};sifPlayer.Ease=Ease})();this.sifPlayer=this.sifPlayer||{};
(function(){function h(b,d){this.init(b,d)}var f=h.prototype;f.init=function(b,d){var e=sifPlayer.param._set;this.name=d.name.string;this.parent=d.parent.bone_valuenode._guid;this.sifobj=b;this.timeline=new createjs.Timeline;this.guid=d._guid;e(this,"origin","vector",this,d.origin);e(this,"angle","angle",this,d.angle);e(this,"scalelx","real",this,d.scalelx);e(this,"width","real",this,d.width);e(this,"scalex","real",this,d.scalex);e(this,"tipwidth","real",this,d.tipwidth);e(this,"length","real",this,
d.length);this._m=new createjs.Matrix2D;this._lm=new createjs.Matrix2D};f.setMatrix=function(){var b=this.sifobj.sif.bones.guid[this.parent],d=this.origin.getX(),e=this.origin.getY(),g=this.scalelx.getValue(),f=this.scalex.getValue(),h=this.angle.getValue();this.length.getValue();var k=1;b?(this._m.copy(b._lm),k=b.scalelx.getValue(),a=b.angle.getValue()):this._m.identity();this._lm.copy(this._m);this._m.appendTransform(d*k,e,g*f,1,h,0,0,0,0);this._lm.appendTransform(d*k,e,f,1,h,0,0,0,0)};f.getParentScale=
function(){var b=this.sifobj.sif.bones.guid[this.parent],d=new createjs.Point(0,0);b&&(d.x=b._m.a,d.y=b._m.d);return d};f.setPosition=function(b){this.timeline.setPosition(b);this.setMatrix();return b};sifPlayer.Bone=h})();(function(){function h(b,d){if(d)for(c in d)this[c]=d[c];this.sifPath=this.sifPath||"";this.init(b)}var f=h.prototype=new createjs.Container;f.sifPath="";f.timeline=null;f.desc={};f.init=function(b){this.initialize();this.sifobj=this;b=sifPlayer.easelSif._getData(b.getElementsByTagName("canvas")[0]);this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this._getCanvasData(b)};f._getCanvasData=function(b){this.sif={};this.sif.canvas={};this.sif.canvas.version=b._version;this.sif.canvas.width=
b._width;this.sif.canvas.height=b._height;var d=b["_view-box"].split(" ");this.sif.canvas.view_box=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])];this.sif.canvas.antialias=b._antialias;this.sif.canvas.fps=b._fps;this.sif.canvas.begin_time=sifPlayer._canvasTimeToMillis(b["_begin-time"],this.sif.canvas.fps);this.sif.canvas.end_time=sifPlayer._canvasTimeToMillis(b["_end-time"],this.sif.canvas.fps);d=b._bgcolor.split(" ");this.sif.canvas.bgcolor={};this.sif.canvas.bgcolor.r=Math.round(256*
parseFloat(d[0]));this.sif.canvas.bgcolor.g=Math.round(256*parseFloat(d[1]));this.sif.canvas.bgcolor.b=Math.round(256*parseFloat(d[2]));this.sif.canvas.bgcolor.a=parseFloat(d[3]);this.sif.canvas.name=b.name;this.sif.canvas.defs=this._getDefs(b.defs);this._getBones(b);this.timeline.duration=this.sif.canvas.end_time;this.scaleX=this.width/(this.sif.canvas.view_box[2]-this.sif.canvas.view_box[0]);this.scaleY=this.height/(this.sif.canvas.view_box[3]-this.sif.canvas.view_box[1]);this.x=this.width/2;this.y=
this.height/2;this._getLayers(b.layer)};f._getDefs=function(b){var d={};for(name in b)if(b[name].constructor!=Array)"animated"===name?(d[b[name]._id]={},d[b[name]._id].animated=b[name]):(d[b[name]._id]={},d[b[name]._id][name]=b[name],d[b[name]._id]._type=name);else for(var e=0;e<b[name].length;e++)"animated"===name?(d[b[name][e]._id]={},d[b[name][e]._id].animated=b[name][e]):(d[b[name][e]._id]={},d[b[name][e]._id][name]=b[name][e],d[b[name][e]._id]._type=name);return d};f._getBones=function(b){if(b=
b.bones){this.sif.bones={};for(var d=this.sif.bones.guid={},e=0,g=b.bone.length;e<g;e++)d[b.bone[e]._guid]=new sifPlayer.Bone(this,b.bone[e])}};f._getLayers=function(b){var d=this.sifobj,e,g;if(b)for(var f=0,h=b.length;f<h;f++)e=b[f]._type,g=sifPlayer.easelSif._getLayer(d,b[f]),("rotate"===e||"translate"===e||"stretch"===e||"zoom"===e)&&this.moveChildrenTo(g),this.addChild(g)};f.moveChildrenTo=function(b){for(var d=[],e=0,g=this.children.length;e<g;e++)d.push(this.children[e]);e=0;for(g=d.length;e<
g;e++)b.addChild(d[e])};f.tick=function(b){this.animated=!1;this.timeline.tick(b);for(var d=this.timeline.position,e=this.children,g=0,f=this.children.length;g<f;g++)d=e[g].unsynced?e[g].setPosition(e[g].timeline.position+b,b):e[g].setPosition(d,b),e[g].animated&&(this.childAnimated=this.animated=!0)};f.setPosition=function(b){this.timeline.setPosition(b);for(var b=this.timeline.position,d=0,e=this.children.length;d<e;d++)b=this.children[d].setPosition(b)};sifPlayer.easelSif.SifObject=h})();this.sifPlayer=this.sifPlayer||{};this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var h=sifPlayer.param;h._set=function(f,b,d,e,g){var i;g||alert(JSON.stringify(g)+this.type+"  "+b);g.animated&&(i=g.animated._type);g._type&&(i=g._type);g._use?h._set(f,b,d,e,f.sifobj.sif.canvas.defs[g._use]):g.vector||"vector"===i?h.vector._get(f,b,d,e,g):g.integer||"integer"===i?h._getNumber(f,b,d,e,g,"integer"):g.real||"real"===i?h._getNumber(f,b,d,e,g,"real"):g.angle||"angle"===i?h._getNumber(f,b,d,e,g,"angle"):g.bool||"bool"===i?h.bool._get(f,b,d,e,g):g.time||"time"===i?h._getTime(f,
b,d,e,g):g.color||"color"===i?h._getColor(f,b,d,e,g):g.gradient||"gradient"===i?h._getGradient(f,b,d,e,g):g.composite?h.composite._get(f,b,d,e,g):g.bline_point?(e[b]={},e[b].composite={},g.bline_point.vertex?(h._set(f,"point","vector",e[b].composite,g.bline_point.vertex),h._set(f,"t1","vector",e[b].composite,g.bline_point.t1),e[b].composite.split={},e[b].composite.split.getValue=function(){return!1},h.convert._set(f,e[b].composite,d,"bline_point")):alert("not converted bline point")):g.scale||"scale"===
i?(e[b]={},e[b].scale={},g.scale._link&&(g.scale.link=f.sifobj.sif.canvas.defs[g.scale._link]),g.scale._scalar&&(g.scale.scalar=f.sifobj.sif.canvas.defs[g.scale._scalar]),h._set(f,"link",g.scale._type,e[b].scale,g.scale.link),h._set(f,"scalar","real",e[b].scale,g.scale.scalar),h.convert._set(f,e[b],d,"scale")):g.radial_composite||"radial_composite"===i?h._getRadial_composite(f,b,d,e,g):g.add?(i=g.add._type,e[b]={},e[b].add={},g.add._lhs&&(g.add.lhs=f.sifobj.sif.canvas.defs[g.add._lhs]),g.add._rhs&&
(g.add.rhs=f.sifobj.sif.canvas.defs[g.add._rhs]),g.add._scaler&&(g.add.scaler=f.sifobj.sif.canvas.defs[g.add._scaler]),h._set(f,"lhs",i,e[b].add,g.add.lhs),h._set(f,"rhs",i,e[b].add,g.add.rhs),h._set(f,"scalar","real",e[b].add,g.add.scalar),h.convert._set(f,e[b],d,"add")):g.and?(i=g.and._type,e[b]={},e[b].and={},h._set(f,"link1",i,e[b].and,g.and.link1),h._set(f,"link2",i,e[b].and,g.and.link2),h.convert._set(f,e[b],d,"and")):g.atan2?(i=g.atan2._type,e[b]={},e[b].atan2={},g.atan2._x&&(g.atan2.x=f.sifobj.sif.canvas.defs[g.atan2._x]),
g.atan2._y&&(g.atan2.y=f.sifobj.sif.canvas.defs[g.atan2._y]),h._set(f,"x","real",e[b].atan2,g.atan2.x),h._set(f,"y","real",e[b].atan2,g.atan2.y),h.convert._set(f,e[b],d,"atan2")):g.cos?(i=g.cos._type,e[b]={},e[b].cos={},g.cos._angle&&(g.cos.angle=f.sifobj.sif.canvas.defs[g.cos._angle]),g.cos._amp&&(g.cos.amp=f.sifobj.sif.canvas.defs[g.cos._amp]),h._set(f,"angle","angle",e[b].cos,g.cos.angle),h._set(f,"amp","real",e[b].cos,g.cos.amp),h.convert._set(f,e[b],d,"cos")):g.dotproduct?(i=g.dotproduct._type,
e[b]={},e[b].dotproduct={},g.dotproduct._lhs&&(g.dotproduct.lhs=f.sifobj.sif.canvas.defs[g.dotproduct._lhs]),g.dotproduct._rhs&&(g.dotproduct.rhs=f.sifobj.sif.canvas.defs[g.dotproduct._rhs]),h._set(f,"lhs","vector",e[b].dotproduct,g.dotproduct.lhs),h._set(f,"rhs","vector",e[b].dotproduct,g.dotproduct.rhs),h.convert._set(f,e[b],d,"dotproduct")):g.exp?(i=g.exp._type,e[b]={},e[b].exp={},g.exp._exp&&(g.exp.exp=f.sifobj.sif.canvas.defs[g.exp._exp]),g.exp._scale&&(g.exp.scale=f.sifobj.sif.canvas.defs[g.exp._scale]),
h._set(f,"exp","real",e[b].exp,g.exp.exp),h._set(f,"scale","real",e[b].exp,g.exp.scale),h.convert._set(f,e[b],d,"exp")):g.logarithm?(i=g.logarithm._type,e[b]={},e[b].logarithm={},g.logarithm._link&&(g.logarithm.link=f.sifobj.sif.canvas.defs[g.logarithm._link]),h._set(f,"link","real",e[b].logarithm,g.logarithm.link),h._set(f,"epsilon","real",e[b].logarithm,g.logarithm.epsilon),h._set(f,"infinite","real",e[b].logarithm,g.logarithm.infinite),h.convert._set(f,e[b],d,"logarithm")):g.reciprocal?(i=g.reciprocal._type,
e[b]={},e[b].reciprocal={},g.reciprocal._link&&(g.reciprocal.link=f.sifobj.sif.canvas.defs[g.reciprocal._link]),h._set(f,"link","real",e[b].reciprocal,g.reciprocal.link),h._set(f,"epsilon","real",e[b].reciprocal,g.reciprocal.epsilon),h._set(f,"infinite","real",e[b].reciprocal,g.reciprocal.infinite),h.convert._set(f,e[b],d,"reciprocal")):g.subtract?(i=g.subtract._type,e[b]={},e[b].subtract={},g.subtract._lhs&&(g.subtract.lhs=f.sifobj.sif.canvas.defs[g.subtract._lhs]),g.subtract._rhs&&(g.subtract.rhs=
f.sifobj.sif.canvas.defs[g.subtract._rhs]),g.subtract._scalar&&(g.subtract.scalar=f.sifobj.sif.canvas.defs[g.subtract._scalar]),h._set(f,"lhs",i,e[b].subtract,g.subtract.lhs),h._set(f,"rhs",i,e[b].subtract,g.subtract.rhs),h._set(f,"scalar","real",e[b].subtract,g.subtract.scalar),h.convert._set(f,e[b],d,"subtract")):g.sine?(i=g.sine._type,e[b]={},e[b].sine={},g.sine._angle&&(g.sine.angle=f.sifobj.sif.canvas.defs[g.sine._angle]),g.sine._amp&&(g.sine.amp=f.sifobj.sif.canvas.defs[g.sine._amp]),h._set(f,
"angle","angle",e[b].sine,g.sine.angle),h._set(f,"amp","real",e[b].sine,g.sine.amp),h.convert._set(f,e[b],d,"sine")):g.vectorangle?(i=g.vectorangle._type,e[b]={},e[b].vectorangle={},h._set(f,"vector","vector",e[b].vectorangle,g.vectorangle.vector),h.convert._set(f,e[b],d,"vectorangle")):g.greyed?h._set(f,b,d,e,g.greyed.link):(alert("no param type"),alert(JSON.stringify(g)+" layer type : "+f.type))};h._getNumber=function(f,b,d,e,g,i){var j,k;j={paused:!0,useTick:!0};var l=f.timeline,m,p=sifPlayer._secsToMillis;
e[b]={};if(g.animated){g=g.animated.waypoint;e[b].value=g[0][i]._value;j=createjs.Tween.get(e[b],j);"0s"!==g[0]._time&&(m=sifPlayer._getEase(g[0]._before),k=p(g[0]._time),j.to({value:g[0][i]._value},k,m));for(var n=0;n<g.length-1;n++)m=sifPlayer._getEase(g[n+1]._before),k=p(g[n+1]._time)-p(g[n]._time),j.to({value:g[n+1][i]._value},k,m);l.addTween(j)}else g[i]||alert(JSON.stringify(g)+"param_type : "+i+" param_name : "+b+" layer type : "+this.type),e[b].value=g[i]._value;h.convert._set(f,e[b],d,i)};
h._getTime=function(f,b,d,e,g){var i,j;i={paused:!0,useTick:!0};var k=f.timeline,l,m=sifPlayer._secsToMillis;e[b]={};if(g.animated){g=g.animated.waypoint;e[b].value=m(g[0].time._value);i=createjs.Tween.get(e[b],i);"0s"!==g[0]._time&&(l=sifPlayer._getEase(g[0]._before),j=m(g[0]._time),i.to({value:m(g[0].time._value)},j,l));for(var p=0;p<g.length-1;p++)l=sifPlayer._getEase(g[p+1]._before),j=m(g[p+1]._time)-m(g[p]._time),i.to({value:m(g[p+1].time._value)},j,l);k.addTween(i)}else g.time||alert(JSON.stringify(g)+
"param_type : time param_name : "+b+" layer type : "+this.type),e[b].value=m(g.time._value);h.convert._set(f,e[b],d,"integer")};h._getRadial_composite=function(f,b,d,e,g){param_type="radial_composite";e[b]={};e[b]._type=param_type;e[b].radial_composite={};g[param_type]._radius&&(g[param_type].radius=f.sifobj.sif.canvas.defs[g[param_type]._radius]);g[param_type]._theta&&(g[param_type].theta=f.sifobj.sif.canvas.defs[g[param_type]._theta]);h._set(f,"radius","real",e[b][param_type],g[param_type].radius);
h._set(f,"theta","angle",e[b][param_type],g[param_type].theta);h.convert._set(f,e[b],d,param_type)};h._getColor=function(f,b,d,e,g){d={paused:!0,useTick:!0};f=f.timeline;e[b]={};e[b].animated=!0;if(g.animated){w=g.animated.waypoint;e[b].r=w[0].color.r;e[b].g=w[0].color.g;e[b].b=w[0].color.b;e[b].a=w[0].color.a;tw=createjs.Tween.get(e[b],d);"0s"!==w[0]._time&&tw.to({r:w[0].color.r,g:w[0].color.g,b:w[0].color.b,a:w[0].color.a},sifPlayer._secsToMillis(w[0]._time),sifPlayer._getEase(w[0]._before));for(b=
0;b<w.length-1;b++)tw.to({r:w[b+1].color.r,g:w[b+1].color.g,b:w[b+1].color.b,a:w[b+1].color.a},sifPlayer._secsToMillis(w[b+1]._time)-sifPlayer._secsToMillis(w[b]._time),sifPlayer._getEase(w[b+1]._before));f.addTween(tw)}else e[b].r=g.color.r,e[b].g=g.color.g,e[b].b=g.color.b,e[b].a=g.color.a};h._getGradient=function(f,b,d,e,g,h){h="gradient";d={paused:!0,useTick:!0};f=f.timeline;e[b]={};var j;if(g.animated){w=g.animated.waypoint;e[h]={};e[h].color=[];for(var k=0,l=w[0].gradient.color.length;k<l;k++){e[h].color.push({});
j=e[h].color[k];b=w[0].gradient.color[k];j.pos=b._pos;j.r=b.r;j.g=b.g;j.b=b.b;j.a=b.a;tw=createjs.Tween.get(j,d);"0s"!==w[0]._time&&tw.to({pos:b._pos,r:b.r,g:b.g,b:b.b,a:b.a},sifPlayer._secsToMillis(w[0]._time),sifPlayer._getEase(w[0]._before));g=0;for(j=w.length-1;g<j;g++)b=w[g+1].gradient.color[k],tw.to({pos:b._pos,r:b.r,g:b.g,b:b.b,a:b.a},sifPlayer._secsToMillis(w[g+1]._time)-sifPlayer._secsToMillis(w[g]._time),sifPlayer._getEase(w[g+1]._before));f.addTween(tw)}}else{e[h]={};e[h].color=[];k=0;
for(l=g[h].color.length;k<l;k++)e[h].color.push({}),j=e[h].color[k],b=g[h].color[k],j.pos=b._pos,j.r=b.r,j.g=b.g,j.b=b.b,j.a=b.a}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.vector={_get:function(h,f,b,d,e){var g,i;g={paused:!0,useTick:!0};var j=h.timeline;d[f]={};if(e.animated){e=e.animated.waypoint;d[f].x=e[0].vector.x;d[f].y=e[0].vector.y;g=createjs.Tween.get(d[f],g);"0s"!==e[0]._time&&(i=sifPlayer._secsToMillis(e[0]._time),g.to({x:e[0].vector.x,y:e[0].vector.y},i,sifPlayer._getEase(e[0]._before)));for(var k=0;k<e.length-1;k++)i=sifPlayer._secsToMillis(e[k+1]._time)-sifPlayer._secsToMillis(e[k]._time),g.to({x:e[k+1].vector.x,y:e[k+1].vector.y},
i,sifPlayer._getEase(e[k+1]._before));j.addTween(g);sifPlayer.param.convert._set(h,d[f],b,"vector")}else e.vector?(d[f].x=e.vector.x,d[f].y=e.vector.y,sifPlayer.param.convert._set(h,d[f],b,"vector",!1)):alert(JSON.stringify(e)+" in vector")},_setConvert:function(h,f,b,d){h=sifPlayer.param.vector;b===d?(f.getX=h.getX,f.getY=h.getY,f.setVector=h.setVector,f.setX=h.setX,f.setY=h.setY):"radial_composite"===d?(f.getX=h.getRadialX,f.getY=h.getRadialY):"composite"===d?(f.getX=h.getCompositeX,f.getY=h.getCompositeY):
"add"===d?(f.getX=h.getAddX,f.getY=h.getAddY):"scale"===d?f.scale.composite?(f.getX=h.getScaleCompositeX,f.getY=h.getScaleCompositeY):f.scale.radial_composite?(f.getX=h.getScaleRadialX,f.getY=h.getScaleRadialY):(f.getX=h.getScaleX,f.getY=h.getScaleY):"subtract"===d&&(f.getX=h.getSubX,f.getY=h.getSubY)},setVector:function(h,f){this.x=h;this.y=f},setX:function(h){this.x=h},setY:function(h){this.y=h},getX:function(){return this.x},getY:function(){return this.y},getScaleX:function(){return this.scale.link.getX()*
this.scale.scalar.getValue()},getScaleY:function(){return this.scale.link.getY()*this.scale.scalar.getValue()},getScaleCompositeX:function(){return this.scale.composite.x.getValue()*this.scalar.getValue()},getScaleCompositeY:function(){return this.scale.composite.y.getValue()*this.scalar.getValue()},getScaleRadialX:function(){var h=this.scale.radial_composite.theta.getValue()*Math.PI/180,f=this.scale.radial_composite.radius.getValue();return Math.cos(h)*f*this.scalar.getValue()},getScaleRadialY:function(){var h=
this.scale.radial_composite.theta.getValue()*Math.PI/180,f=this.scale.radial_composite.radius.getValue();return Math.sin(h)*f*this.scalar.getValue()},getRadialX:function(){var h=this.radial_composite.theta.getValue()*Math.PI/180,f=this.radial_composite.radius.getValue();return Math.cos(h)*f},getRadialY:function(){var h=this.radial_composite.theta.getValue()*Math.PI/180,f=this.radial_composite.radius.getValue();return Math.sin(h)*f},getCompositeX:function(){return this.composite.x.getValue()},getCompositeY:function(){return this.composite.y.getValue()},
getAddX:function(){return(this.add.lhs.getX()+this.add.rhs.getX())*this.add.scalar.getValue()},getAddY:function(){return(this.add.lhs.getY()+this.add.rhs.getY())*this.add.scalar.getValue()},getSubX:function(){return(this.subtract.lhs.getX()-this.subtract.rhs.getX())*this.subtract.scalar.getValue()},getSubY:function(){return(this.subtract.lhs.getY()-this.subtract.rhs.getY())*this.subtract.scalar.getValue()}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.integer={_setConvert:function(h,f,b,d){h=sifPlayer.param.integer;b===d?(f.getValue=h.getValue,f.setValue=h.setValue):h[d]?f.getValue=h[d]:alert("no convert for integer to "+d)},setValue:function(h){this.value=h},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var h={degsToRad:0.0174532925,_setConvert:function(f,b,d,e){f=sifPlayer.param.real;d===e?(b.getValue=f.getValue,b.setValue=f.setValue):f[e]?b.getValue=f[e]:alert("no convert for real to "+e)},setValue:function(f){this.value=f},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()},cos:function(){return this.cos.amp.getValue()*Math.cos(this.cos.angle.getValue()*h.degsToRad)},sine:function(){return this.sine.amp.getValue()*Math.sin(this.sine.angle.getValue()*h.degsToRad)},dotproduct:function(){var f,b,d,e;f=this.dotproduct.lhs.getX();b=this.dotproduct.lhs.getY();d=this.dotproduct.rhs.getX();e=this.dotproduct.rhs.getY();return f*d+b*e},exp:function(){return Math.exp(this.exp.exp.getValue())*this.exp.scale.getValue()},logarithm:function(){var f=this.logarithm.link.getValue();
return f>=this.logarithm.epsilon.getValue()?Math.log(f):-this.logarithm.infinite.getValue()},reciprocal:function(){var f=this.reciprocal.link.getValue();return f>=this.reciprocal.epsilon.getValue()?1/f:-this.reciprocal.infinite.getValue()}};sifPlayer.param.real=h})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.angle={_setConvert:function(h,f,b,d){h=sifPlayer.param.angle;b===d?(f.getValue=h.getValue,f.setValue=h.setValue):h[d]?f.getValue=h[d]:alert("no convert for angle to "+d)},setValue:function(h){this.value=h},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()},atan2:function(){return 180*(Math.atan2(this.atan2.y.getValue(),this.atan2.x.getValue())/Math.PI)},dotproduct:function(){var h,f,b,d;h=this.dotproduct.lhs.getX();f=this.dotproduct.lhs.getY();b=this.dotproduct.rhs.getX();d=this.dotproduct.rhs.getY();return 180*(Math.acos((h*b+f*d)/(Math.sqrt(h*h+f*f)*Math.sqrt(b*b+d*d)))/Math.PI)},vectorangle:function(){return 180*(Math.atan2(this.vectorangle.vector.getY(),this.vectorangle.vector.getX())/Math.PI)}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.bool={_get:function(h,f,b,d,e){var g=sifPlayer.param,i,j;i={paused:!0,useTick:!0};var k=h.sifobj.timeline,l,m=0,p=[0,1];d[f]={};if(e.animated){e=e.animated.waypoint;d[f].value=e[0].bool._value;i=createjs.Tween.get(d[f],i);"0s"!==e[0]._time&&(l=sifPlayer.Ease.bool,j=sifPlayer._secsToMillis(e[0]._time),i.to({value:e[0].bool._value},j,l));for(var n=0;n<e.length-1;n++)l=p[1-m]?sifPlayer.Ease.bool:sifPlayer.Ease.constant,m=1-m,j=sifPlayer._secsToMillis(e[n+1]._time)-sifPlayer._secsToMillis(e[n]._time),
e[n].bool._value!==e[n+1].bool._value?i.to({value:e[n+1].bool._value},j,l):i.wait(j);k.addTween(i)}else e.bool||alert(JSON.stringify(e)+"param_type : bool param_name : "+f+" layer type : "+this.type),d[f].value=e.bool._value;g.convert._set(h,d[f],b,"bool")},_setConvert:function(h,f,b,d){h=sifPlayer.param.bool;b===d?(f.getValue=h.getValue,f.setValue=h.setValue):"and"===d&&(f.getValue=h.getAnd)},setValue:function(h){this.value=h},getValue:function(){return this.value},getAnd:function(){return this.link1&&
this.link2}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var h={_get:function(f,b,d,e,g){var h=sifPlayer.param,j=h._set,k="composite";e[b]={};e[b]._type=k;e[b].composite={};if("vector"===g.composite._type)g[k]._x&&(g[k].x=f.sifobj.sif.canvas.defs[g[k]._x]),g[k]._y&&(g[k].y=f.sifobj.sif.canvas.defs[g[k]._y]),j(f,"x","real",e[b].composite,g.composite.x),j(f,"y","real",e[b].composite,g.composite.y),h.convert._set(f,e[b],d,k);else if("bline_point"===g.composite._type){var l=e[b].composite,k=g.composite._type;g.composite._point&&(g.composite.point=
f.sifobj.sif.canvas.defs[g.composite._point]);j(f,"point","vector",l,g.composite.point);j(f,"width","real",l,g.composite.width);j(f,"origin","real",l,g.composite.origin);j(f,"split","bool",l,g.composite.split);j(f,"t1","vector",l,g.composite.t1);j(f,"t2","vector",l,g.composite.t2);h.convert._set(f,e[b].composite,d,k,g.composite.point.animated||g.composite.width.animated||g.composite.origin.animated||g.composite.t1.animated||g.composite.t2.animated)}},_setConvert:function(f,b,d,e){"bline_point"===
e?(b.getPoint=h.getPoint,b.getT1=h.bline_point_getT1,b.getT2=h.bline_point_getT2):alert("new type of point")},getPoint:function(){return this.point},bline_point_getPoint:function(){return this.point},bline_point_getT1:function(){return{x:this.t1.getX()/3,y:this.t1.getY()/3}},bline_point_getT2:function(){return{x:this.t2.getX()/3,y:this.t2.getY()/3}}};sifPlayer.param.composite=h})();this.sifPlayer.param=this.sifPlayer.param||{};this.sifPlayer.param.convert=this.sifPlayer.param.convert||{};(function(){sifPlayer.param.convert._set=function(h,f,b,d){"vector"===b?sifPlayer.param[b]._setConvert(h,f,b,d):"real"===b?sifPlayer.param[b]._setConvert(h,f,b,d):"integer"===b?sifPlayer.param[b]._setConvert(h,f,b,d):"angle"===b?sifPlayer.param[b]._setConvert(h,f,b,d):"bool"===b?sifPlayer.param[b]._setConvert(h,f,b,d):"composite"===b&&sifPlayer.param[b]._setConvert(h,f,b,d)}})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Shape;f.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this._getBline(b.bline);d(this,"blend_method","integer",this,b.blend_method);d(this,"amount","real",this,b.amount);d(this,"origin","vector",this,b.origin);d(this.bline,"color","color",this,b.color);b.width&&d(this.bline,"width","real",this,b.width);sifPlayer._addToDesc(this,b);this.entries=
this.collectEntries();this.makeShape();this.aabb=sifPlayer.aabbFromEntries(this.entries,this.width?this.width.getValue():null);this.getMatrix()};f._getBline=function(b){var d=sifPlayer.param._set;this.bline={};this.bline.sifobj=this.sifobj;this.bline.timeline=new createjs.Timeline;this.bline.timeline.setPaused(!0);this.bline.entry=[];this.bline.loop=b.bline._loop;for(var e=0,g=b.bline.entry.length;e<g;e++){var f={};d(this.bline,"composite","composite",f,b.bline.entry[e]);this.bline.entry.push(f.composite)}};
f.collectEntries=function(){var b=[],d,e;d=this.bline.entry[0].composite.getPoint();b.push([d.getX(),d.getY()]);for(var g=0,f=this.bline.entry.length-1;g!==f;g++)d=this.bline.entry[g].composite,e=this.bline.entry[g+1].composite,d.split.getValue()?b.push(this._bezierEntry(d.getPoint(),e.getPoint(),d.getT2(),e.getT1())):b.push(this._bezierEntry(d.getPoint(),e.getPoint(),d.getT1(),e.getT1()));this.bline.loop&&(d=this.bline.entry[this.bline.entry.length-1].composite,e=this.bline.entry[0].composite,d.split.getValue()?
b.push(this._bezierEntry(d.getPoint(),e.getPoint(),d.getT2(),e.getT1())):b.push(this._bezierEntry(d.getPoint(),e.getPoint(),d.getT1(),e.getT1())));return b};f._bezierEntry=function(b,d,e,g){var f;f=e.x+b.getX();b=e.y+b.getY();e=-g.x+d.getX();g=-g.y+d.getY();return[f,b,e,g,d.getX(),d.getY()]};f.makeShape=function(){var b=this.entries,d=this.graphics;d.clear();d.f(createjs.Graphics.getRGB(Math.round(256*this.color.r),Math.round(256*this.color.g),Math.round(256*this.color.b),this.color.a));d.mt(b[0][0],
b[0][1]);for(var e=1,g=b.length;e!==g;e++)d.bt(b[e][0],b[e][1],b[e][2],b[e][3],b[e][4],b[e][5]);d.ef()};f.setPosition=function(b){this.timeline.setPosition(b);this.bline.timeline.setPosition(b);this.animated=sifPlayer._checkTimeline(this.timeline);this.updateShape();return b};f.updateShape=function(){var b;b=this.width?this.width.getValue():null;if(sifPlayer._checkTimeline(this.bline.timeline))this.entries=this.collectEntries(),this.makeShape(),this.animated=!0;else if(b=sifPlayer.aabbFromEntries(this.entries,
b),this.setBounds(b[0],b[1],b[2]-b[0],b[3]-b[1]),!this.cacheID){var d=Math.abs(sifPlayer.easelSif.getTotalScale(this));this.cache(b[0],b[1],b[2]-b[0],b[3]-b[1],d)}};f.compareEntries=function(b){var d=this.entries;if(this.entries){if(d[0][0]!==b[0][0]||d[0][1]!==b[0][1])return!1;for(var e=1,g=d.length;e<g;e++)if(d[e][0]!==b[e][0]||d[e][1]!==b[e][1]||d[e][2]!==b[e][2]||d[e][3]!==b[e][3]||d[e][4]!==b[e][4]||d[e][5]!==b[e][5])return!1}else return!1;return!0};f.updateContext=function(b){var d=this.getMatrix();
b.globalAlpha*=this.amount.getValue();b.globalCompositeOperation=sifPlayer.easelSif._getBlend(this.blend_method.getValue());b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)};f.getMatrix=function(b){var b=this.origin.getX(),d=this.origin.getY(),b=this._matrix.identity().appendTransform(b,d,1,1,0,0,0,0,0);return b=b.copy(b)};sifPlayer.easelSif.region=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Container;f.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;this.type="group";d(this,"amount","real",this,b.amount);d(this,"blend_method","integer",this,b.blend_method);d(this,"origin","vector",this,b.origin);this.transformation={};var e=b.transformation.composite;e&&(d(this,"offset",
"vector",this.transformation,e.offset),d(this,"angle","angle",this.transformation,e.angle),d(this,"skew_angle","angle",this.transformation,e.skew_angle),d(this,"scale","vector",this.transformation,e.scale),d(this,"skew_angle","angle",this.transformation,e.skew_angle),this.getMatrix=h.getMatrixComposite,this.scaleX=this.transformation.scale.getX());if(e=b.transformation.bone_link){this.bone=e.bone[0].bone_valuenode._guid;var e=b.transformation.bone_link.base_value.composite,g={};d(this,"offset","vector",
g,e.offset);d(this,"angle","angle",g,e.angle);d(this,"skew_angle","vector",g,e.skew_angle);d(this,"scale","vector",g,e.scale);this.base_value=g;this.getMatrix=h.getMatrixBone;this.getMatrix()}sifPlayer._addToDesc(this,b);b.canvas&&(b.canvas.canvas?this._getLayers(b.canvas.canvas.layer):this._getLayers(this.sifobj.sif.canvas.defs[b.canvas._use].canvas.layer))};f._getLayers=sifPlayer.easelSif.SifObject.prototype._getLayers;f.moveChildrenTo=sifPlayer.easelSif.SifObject.prototype.moveChildrenTo;f.setPosition=
function(b,d){this.childAnimated=!1;this.animated=this.bone?!0:sifPlayer._checkTimeline(this.timeline);var e;this.timeline.setPosition(b);e=this.timeline.position;for(var g=this.children,f=0,h=g.length;f<h;f++)e=g[f].unsynced?g[f].setPosition(g[f].timeline.position+d,d):g[f].setPosition(e,d),g[f].animated&&(g[f].uncache(),this.childAnimated=this.animated=!0);this.childAnimated&&this.uncache();!this.childAnimated&&(!this.cacheID&&"group"===this.type)&&(this.uncache(),e=Math.abs(sifPlayer.easelSif.getTotalScale(this)),
(g=this.getBounds())&&this.cache(g.x,g.y,g.width,g.height,e));return b};f.updateContext=function(b){var d=this.getMatrix();b.globalAlpha*=this.amount.getValue();b.globalCompositeOperation=sifPlayer.easelSif._getBlend(this.blend_method.getValue());b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)};h.getMatrixBone=function(b){var b=this.base_value,d=this._matrix.copy(this.sifobj.sif.bones.guid[this.bone]._m);d.appendTransform(b.offset.getX(),b.offset.getY(),b.scale.getX(),b.scale.getY(),b.angle.getValue(),0,0,
0,0);return b=d.copy(d)};h.getMatrixComposite=function(b){var d=this.transformation,b=this.origin.getX()+d.offset.getX(),e=this.origin.getY()+d.offset.getY(),g=this.scaleX=d.scale.getX(),f=this.scaleY=d.scale.getY(),d=d.angle.getValue(),b=this._matrix.identity().appendTransform(b,e,g,f,d,0,0,0,0);return b=b.copy(b)};sifPlayer.easelSif.group=h})();(function(){function h(b,e){this.sifobj=b;this.init(e)}var f=sifPlayer.easelSif.region.prototype,b=h.prototype=new createjs.Shape;b.init=f.init;b._getBline=f._getBline;b.collectEntries=f.collectEntries;b.compareEntries=f.compareEntries;b._bezierEntry=f._bezierEntry;b.setPosition=f.setPosition;b.updateShape=f.updateShape;b.updateContext=f.updateContext;b.getMatrix=f.getMatrix;b.updateValues=function(){this.updateValuesRegion()};b.makeShape=function(){var b=this.entries,e=this.graphics;e.clear();e.setStrokeStyle(this.width.getValue());
e.s(createjs.Graphics.getRGB(Math.round(256*this.color.r),Math.round(256*this.color.g),Math.round(256*this.color.b),this.color.a));e.mt(b[0][0],b[0][1]);for(var g=1,f=b.length;g!==f;g++)e.bt(b[g][0],b[g][1],b[g][2],b[g][3],b[g][4],b[g][5]);e.es()};sifPlayer.easelSif.outline=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Shape;f.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;d(this,"amount","real",this,b.amount);d(this,"origin","vector",this,b.origin);d(this,"radius","real",this,b.radius);d(this,"blend_method","integer",this,b.blend_method);d(this,"color","color",this,b.color);sifPlayer._addToDesc(this,
b);this.makeShape()};f.makeShape=function(){var b=this.graphics;this.rad=this.radius.getValue();this.r=this.color.r;this.g=this.color.g;this.b=this.color.b;this.a=this.color.a;b.f(createjs.Graphics.getRGB(Math.round(256*this.r),Math.round(256*this.g),Math.round(256*this.b),this.a));b.dc(0,0,this.rad);b.ef()};f.setPosition=function(b){this.timeline.setPosition(b);return b};f.updateContext=function(b){var d=this.getMatrix(this._matrix);b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.globalAlpha*=this.amount.getValue();
b.globalCompositeOperation=sifPlayer.easelSif._getBlend(this.blend_method.getValue())};f.getMatrix=sifPlayer.easelSif.region.prototype.getMatrix;sifPlayer.easelSif.circle=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Bitmap;f.init=function(b){var d=sifPlayer.param._set;this.initialize(this.sifobj.sifPath+b.filename.string);this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);d(this,"amount","real",this,b.amount);d(this,"blend_method","integer",this,b.blend_method);d(this,"tl","vector",this,b.tl);d(this,"br","vector",this,b.br);sifPlayer._addToDesc(this,b)};f.setPosition=function(b){this.timeline.setPosition(b);return b};
f.updateContext=function(b){var d=this.getMatrix(this._matrix);b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.globalAlpha*=this.amount.getValue();b.globalCompositeOperation=sifPlayer.easelSif._getBlend(this.blend_method.getValue())};f.getMatrix=function(b){var d=this.br.getX(),e=this.br.getY(),b=this.tl.getX(),f=this.tl.getY(),h,j;if(d!==this.brx||e!==this.bry||b!==this.tlx||f!==this.tly)this.brx=d,this.bry=e,this.tlx=b,this.tly=f,d-=b,e=f-e,0>=d?(h=-1,d*=-1):h=1,0>=e?(j=1,e*=-1):j=-1,this.x=b,this.y=f,
this.scaleX=h/this.image.width*d,this.scaleY=j/this.image.height*e;h=this._matrix.identity().appendTransform(b,f,h,j,0,0,0,0,0);return b=h.copy(h)};sifPlayer.easelSif.Import=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Container;f.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.duration=this.sifobj.timeline.duration;this.timeline.setPaused(!0);d(this,"origin","vector",this,b.origin);d(this,"amount","angle",this,b.amount);sifPlayer._addToDesc(this,b)};f.setPosition=sifPlayer.easelSif.group.prototype.setPosition;f.updateContext=function(b){var d=this.getMatrix();b.transform(d.a,
d.b,d.c,d.d,d.tx,d.ty)};f.getMatrix=function(b){var b=this.origin.getX(),d=this.origin.getY(),e=this.amount.getValue(),b=this._matrix.identity().appendTransform(b,d,1,1,e,0,0,b,b);return b=b.copy(b)};sifPlayer.easelSif.rotate=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Container;f.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;d(this,"amount","vector",this,b.amount);d(this,"center","vector",this,b.center);sifPlayer._addToDesc(this,b);this.getMatrix()};f.setPosition=sifPlayer.easelSif.group.prototype.setPosition;f.updateContext=function(b){var d=this.getMatrix();
b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)};f.getMatrix=function(b){var b=this.center.getX(),d=this.center.getY(),e=this.scaleX=this.amount.getX(),f=this.amount.getY(),b=this._matrix.identity().appendTransform(b,d,e,f,0,0,0,b,b);return b=b.copy(b)};sifPlayer.easelSif.stretch=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Container;f.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.duration=this.sifobj.timeline.duration;this.timeline.setPaused(!0);d(this,"origin","vector",this,b.origin);sifPlayer._addToDesc(this,b)};f.setPosition=sifPlayer.easelSif.group.prototype.setPosition;f.updateContext=function(b){var d=this.getMatrix(this._matrix);b.transform(d.a,d.b,d.c,d.d,d.tx,
d.ty)};f.getMatrix=sifPlayer.easelSif.region.prototype.getMatrix;sifPlayer.easelSif.translate=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Container;f.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;d(this,"center","vector",this,b.center);d(this,"amount","real",this,b.amount);sifPlayer._addToDesc(this,b);this.getMatrix()};f.setPosition=sifPlayer.easelSif.rotate.prototype.setPosition;f.updateContext=function(b){var d=this.getMatrix();
b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)};f.getMatrix=function(b){var b=this.center.getX(),d=this.center.getY(),e=this.scaleX=Math.exp(this.amount.getValue()),b=this._matrix.identity().appendTransform(b,d,e,e,0,0,0,b/e,b/e);return b=b.copy(b)};sifPlayer.easelSif.zoom=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.DisplayObject;f.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;d(this,"link_time","integer",this,b.link_time);d(this,"local_time","integer",this,b.local_time);d(this,"duration","integer",this,b.duration);sifPlayer._addToDesc(this,b)};f.setPosition=function(b){this.timeline.tick(b-this.timeline.position);
var d=this.duration.getValue(),e=this.link_time.getValue(),f=this.local_time.getValue(),b=(b+f)%d;return 0!=d?0<d?b+e:e-b:e};sifPlayer.easelSif.timeloop=h})();(function(){function h(b,d){this.sifobj=b;this.init(d)}var f=h.prototype=new createjs.Shape;f.init=function(b){var d=sifPlayer.param._set;this.initialize();d(this,"amount","real",this,b.amount);this._getBones(b.bones);sifPlayer._addToDesc(this,b)};f._getBones=function(b){for(var d=[],b=b.static_list.entry,e=0,f=b.length;e<f;e++)d[e]=b[e].bone[0]._guid;this.bones=d};f.setPosition=function(b){for(var d=this.sifobj.sif.bones.guid,e=this.bones,f=e.length-1;0<=f;f--)d[e[f]].setPosition(b),d[e[f]].animated=
sifPlayer._checkTimeline(d[e[f]].timeline);this.animated=!0;return b};sifPlayer.easelSif.skeleton=h})();
