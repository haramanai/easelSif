/*
 Copyright (c) 2012 haramanai.
 sifPlayer easelSif
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
*/
this.sifPlayer=this.sifPlayer||{};
(function(){sifPlayer._getData=function(f){function e(d,g){b[d]?(b[d].constructor!=Array&&(b[d]=[b[d]]),b[d][b[d].length]=g):b[d]=g}var b={},d,g,h;for(d=0;g=f.attributes[d];d++)e("_"+g.name,sifPlayer._toSifValue(g.value));for(d=0;g=f.childNodes[d];d++)if(1==g.nodeType)if(h=g.nodeName,1==g.childNodes.length&&3==g.firstChild.nodeType)e(g.nodeName,sifPlayer._toSifValue(g.firstChild.nodeValue));else switch(h){case "param":b[g.getAttribute("name")]=sifPlayer._getData(g);break;case "layer":"undefined"==
typeof b[h]&&(b[h]=[]);switch(g.getAttribute("type")){case "rotate":case "translate":case "zoom":case "stretch":e("layer",{_type:"restore"});b.layer.unshift(sifPlayer._getData(g));break;case "timeloop":b.layer.unshift(sifPlayer._getData(g));break;default:e(g.nodeName,sifPlayer._getData(g))}break;case "waypoint":"undefined"==typeof b[h]&&(b[h]=[]);default:e(h,sifPlayer._getData(g))}return b};sifPlayer._secsToMillis=function(f){return 1E3*parseFloat(f.replace("s",""))};sifPlayer._canvasTimeToMillis=
function(f,e){var b=0,d;0<f.search("h")&&(d=f.split("h"),b+=36E5*d[0],f=d[1]);0<f.search("m")&&(d=f.split("m"),b+=6E4*d[0],f=d[1]);0<f.search("s")&&(d=f.split("s"),b+=1E3*d[0],f=d[1]);0<f.search("f")&&(d=f.split("f"),b+=1E3*d[0]/e);return b};sifPlayer._toSifValue=function(f){var e=Number(f);return!isNaN(e)?e:"true"===f?!0:"false"===f?!1:":"===f[0]?f.substr(1):f};sifPlayer._getEase=function(f){return"linear"===f||"clamped"===f||"halt"===f?createjs.Ease.none:"constant"===f?sifPlayer.Ease.constant:"auto"===
f?createjs.Ease.none:!1};sifPlayer.aabbFromEntries=function(f,e){for(var b=[f[0][0],f[0][1],f[0][0],f[0][1]],d=0,g=f.length;d<g;d++)f[d][0]<b[0]?b[0]=f[d][0]:f[d][0]>b[2]&&(b[2]=f[d][0]),f[d][2]<b[0]?b[0]=f[d][2]:f[d][2]>b[2]&&(b[2]=f[d][2]),f[d][4]<b[0]?b[0]=f[d][4]:f[d][4]>b[2]&&(b[2]=f[d][4]),f[d][1]<b[1]?b[1]=f[d][1]:f[d][1]>b[3]&&(b[3]=f[d][1]),f[d][3]<b[1]?b[1]=f[d][3]:f[d][3]>b[3]&&(b[3]=f[d][3]),f[d][5]<b[1]?b[1]=f[d][5]:f[d][5]>b[3]&&(b[3]=f[d][5]),e&&(b[0]-=e,b[1]-=e,b[2]+=e,b[3]+=e);return b};
sifPlayer._addToDesc=function(f,e){e._desc&&(f.name=e._desc,f.sifobj.desc[f.name]=f)};sifPlayer._checkTimeline=function(f){var f=f._tweens,e=!1;if(f)for(var b=0,d=f.length;b<d;b++)sifPlayer._checkTween(f[b])&&(e=!0);return e};sifPlayer._checkTween=function(f){var e=f._curQueueProps,f=f._target,b=f.preprops?f.preprops:{},d=!1,g;for(g in e)f[g]!==b[g]&&(d=!0),b[g]=f[g];f.preprops=b;return d};window.sifPlayer=sifPlayer})();(function(){sifPlayer.easelSif={getTotalScale:function(f){for(var e=1,b=1;null!=f;)if(e*=f.scaleX,b*=f.scaleY,(f=f.parent)&&f._ussed)f=this._ussed;return Math.sqrt(e*e+b*b)},_getLayer:function(f,e){if(sifPlayer.easelSif[e._type])return new sifPlayer.easelSif[e._type](f,e);if("import"===e._type)return new sifPlayer.easelSif.Import(f,e);console.log("EERRROOR  "+e._type+" layer it's not supported")},_setTimeline:function(f){f.timeline=new createjs.Timeline;f.timeline.setPaused(!0)},_getBlend:function(f){switch(f){case 0:return"source-over";
case 1:return"copy";case 13:return"source-atop";case 21:return"source-in";case 12:return"destination-over";case 19:return"destination-out";case 14:return"destination-in";default:return"source-over"}}}})();(function(){Ease={constant:function(f){return 1>f?0:1},bool:function(f){return 1>f?1:0}};sifPlayer.Ease=Ease})();this.sifPlayer=this.sifPlayer||{};
(function(){function f(b,d){this.init(b,d)}var e=f.prototype;e.init=function(b,d){var g=sifPlayer.param._set;this.name=d.name.string;this.parent=d.parent.bone_valuenode._guid;this.sifobj=b;this.timeline=new createjs.Timeline;this.guid=d._guid;g(this,"origin","vector",this,d.origin);g(this,"angle","angle",this,d.angle);g(this,"scalelx","real",this,d.scalelx);g(this,"width","real",this,d.width);g(this,"scalex","real",this,d.scalex);g(this,"tipwidth","real",this,d.tipwidth);g(this,"length","real",this,
d.length);this._m=new createjs.Matrix2D;this._lm=new createjs.Matrix2D};e.setMatrix=function(){var b=this.sifobj.sif.bones.guid[this.parent],d=this.origin.getX(),g=this.origin.getY(),h=this.scalelx.getValue(),e=this.scalex.getValue(),f=this.angle.getValue();this.length.getValue();var k=1;b?(this._m.copy(b._lm),k=b.scalelx.getValue(),a=b.angle.getValue()):this._m.identity();this._lm.copy(this._m);this._m.appendTransform(d*k,g,h*e,1,f,0,0,0,0);this._lm.appendTransform(d*k,g,e,1,f,0,0,0,0)};e.getParentScale=
function(){var b=this.sifobj.sif.bones.guid[this.parent],d=new createjs.Point(0,0);b&&(d.x=b._m.a,d.y=b._m.d);return d};e.setPosition=function(b){this.timeline.setPosition(b);this.setMatrix();return b};sifPlayer.Bone=f})();(function(){function f(b,d){if(d)for(c in d)this[c]=d[c];this.sifPath=this.sifPath||"";this.timeline=new createjs.Timeline;b&&(this.preload=new createjs.LoadQueue(!0),this.preload.on("fileload",f.handleFileLoad,this),this.preload.on("complete",f.handleComplete,this),this.preload.loadFile({id:"sifobj",src:b,type:createjs.LoadQueue.XML}))}var e=f.prototype=new createjs.Container;e.sifPath="";e.timeline=null;e.desc={};e._getData=function(b){function d(b,d){g[b]?(g[b].constructor!=Array&&(g[b]=[g[b]]),
g[b][g[b].length]=d):g[b]=d}var g={},h,e,f;for(h=0;e=b.attributes[h];h++)d("_"+e.name,sifPlayer._toSifValue(e.value));for(h=0;e=b.childNodes[h];h++)if(1==e.nodeType)if(f=e.nodeName,1==e.childNodes.length&&3==e.firstChild.nodeType)d(e.nodeName,sifPlayer._toSifValue(e.firstChild.nodeValue));else switch(f){case "param":g[e.getAttribute("name")]=this._getData(e);break;case "layer":"undefined"==typeof g[f]&&(g[f]=[]);switch(e.getAttribute("type")){case "rotate":case "translate":case "zoom":case "stretch":d(e.nodeName,
this._getData(e));break;case "timeloop":g.layer.unshift(this._getData(e));break;default:d(e.nodeName,this._getData(e))}break;case "waypoint":case "entry":case "bone_root":case "bone":"undefined"==typeof g[f]&&(g[f]=[]);default:d(f,this._getData(e))}return g};e.init=function(b){this.initialize();this.sifobj=this;b=this._getData(b.getElementsByTagName("canvas")[0]);this.timeline.setPaused(!0);this._getCanvasData(b)};e.getFiles=function(b){for(var b=b.getElementsByTagName("param"),d=0,g=b.length;d<g;d++){var h=
b[d].getAttribute("name");if("filename"===h)h=this.sifPath+b[d].getElementsByTagName("string")[0].childNodes[0].nodeValue,this.preload.getItem(h)||this.preload.loadFile({src:h});else if("canvas"===h&&(h=b[d].getAttribute("use"))&&0<h.search("#"))h=this.sifPath+h.slice(0,h.length-1),this.preload.getItem(h)||this.preload.loadFile({src:h,type:createjs.LoadQueue.XML})}};f.handleFileLoad=function(b){var d=b.item,g=d.type,d=d.id;g===createjs.LoadQueue.XML&&this.getFiles(b.result);g===createjs.LoadQueue.IMAGE&&
console.log(d)};f.handleComplete=function(){this.init(this.preload.getResult("sifobj"));this.tick=this.tickReady};e._getCanvasData=function(b){this.sif={};this.sif.canvas={};this.sif.canvas.version=b._version;this.sif.canvas.width=b._width;this.sif.canvas.height=b._height;var d=b["_view-box"].split(" ");this.sif.canvas.view_box=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])];this.sif.canvas.antialias=b._antialias;this.sif.canvas.fps=b._fps;this.sif.canvas.begin_time=sifPlayer._canvasTimeToMillis(b["_begin-time"],
this.sif.canvas.fps);this.sif.canvas.end_time=sifPlayer._canvasTimeToMillis(b["_end-time"],this.sif.canvas.fps);d=b._bgcolor.split(" ");this.sif.canvas.bgcolor={};this.sif.canvas.bgcolor.r=Math.round(256*parseFloat(d[0]));this.sif.canvas.bgcolor.g=Math.round(256*parseFloat(d[1]));this.sif.canvas.bgcolor.b=Math.round(256*parseFloat(d[2]));this.sif.canvas.bgcolor.a=parseFloat(d[3]);this.sif.canvas.name=b.name;this.sif.canvas.defs=this._getDefs(b.defs);this._getBones(b);this.timeline.duration=this.sif.canvas.end_time;
this.scaleX=this.width/(this.sif.canvas.view_box[2]-this.sif.canvas.view_box[0]);this.scaleY=this.height/(this.sif.canvas.view_box[3]-this.sif.canvas.view_box[1]);this.x=this.width/2;this.y=this.height/2;this._getLayers(b.layer)};e._getDefs=function(b){var d={};for(name in b)if(b[name].constructor!=Array)"animated"===name?(d[b[name]._id]={},d[b[name]._id].animated=b[name]):(d[b[name]._id]={},d[b[name]._id][name]=b[name],d[b[name]._id]._type=name);else for(var g=0;g<b[name].length;g++)"animated"===
name?(d[b[name][g]._id]={},d[b[name][g]._id].animated=b[name][g]):(d[b[name][g]._id]={},d[b[name][g]._id][name]=b[name][g],d[b[name][g]._id]._type=name);return d};e._getBones=function(b){if(b=b.bones){this.sif.bones={};for(var d=this.sif.bones.guid={},g=0,h=b.bone.length;g<h;g++)d[b.bone[g]._guid]=new sifPlayer.Bone(this,b.bone[g])}};e._getLayers=function(b){var d=this.sifobj,g,h;if(b)for(var e=0,f=b.length;e<f;e++)g=b[e]._type,h=sifPlayer.easelSif._getLayer(d,b[e]),("rotate"===g||"translate"===g||
"stretch"===g||"zoom"===g)&&this.moveChildrenTo(h),this.addChild(h)};e.moveChildrenTo=function(b){for(var d=[],g=0,h=this.children.length;g<h;g++)d.push(this.children[g]);g=0;for(h=d.length;g<h;g++)b.addChild(d[g])};e.tickReady=function(b){this.animated=!1;this.timeline.tick(b);for(var d=this.timeline.position,g=this.children,h=0,e=this.children.length;h<e;h++)d=g[h].unsynced?g[h].setPosition(g[h].timeline.position+b,b):g[h].setPosition(d,b),g[h].animated&&(this.childAnimated=this.animated=!0)};e.tick=
function(){};e.setPosition=function(b){this.timeline.setPosition(b);for(var b=this.timeline.position,d=0,g=this.children.length;d<g;d++)b=this.children[d].setPosition(b)};sifPlayer.easelSif.SifObject=f})();this.sifPlayer=this.sifPlayer||{};this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var f=sifPlayer.param;f._set=function(e,b,d,g,h){var i;h||alert(JSON.stringify(h)+this.type+"  "+b);h.animated&&(i=h.animated._type);h._type&&(i=h._type);h._use?f._set(e,b,d,g,e.sifobj.sif.canvas.defs[h._use]):h.vector||"vector"===i?f.vector._get(e,b,d,g,h):h.integer||"integer"===i?f._getNumber(e,b,d,g,h,"integer"):h.real||"real"===i?f._getNumber(e,b,d,g,h,"real"):h.angle||"angle"===i?f._getNumber(e,b,d,g,h,"angle"):h.bool||"bool"===i?f.bool._get(e,b,d,g,h):h.time||"time"===i?f._getTime(e,
b,d,g,h):h.color||"color"===i?f._getColor(e,b,d,g,h):h.gradient||"gradient"===i?f._getGradient(e,b,d,g,h):h.composite?f.composite._get(e,b,d,g,h):h.bline_point?(g[b]={},g[b].composite={},h.bline_point.vertex?(f._set(e,"point","vector",g[b].composite,h.bline_point.vertex),f._set(e,"t1","vector",g[b].composite,h.bline_point.t1),g[b].composite.split={},g[b].composite.split.getValue=function(){return!1},f.convert._set(e,g[b].composite,d,"bline_point")):alert("not converted bline point")):h.scale||"scale"===
i?(g[b]={},g[b].scale={},h.scale._link&&(h.scale.link=e.sifobj.sif.canvas.defs[h.scale._link]),h.scale._scalar&&(h.scale.scalar=e.sifobj.sif.canvas.defs[h.scale._scalar]),f._set(e,"link",h.scale._type,g[b].scale,h.scale.link),f._set(e,"scalar","real",g[b].scale,h.scale.scalar),f.convert._set(e,g[b],d,"scale")):h.radial_composite||"radial_composite"===i?f._getRadial_composite(e,b,d,g,h):h.add?(i=h.add._type,g[b]={},g[b].add={},h.add._lhs&&(h.add.lhs=e.sifobj.sif.canvas.defs[h.add._lhs]),h.add._rhs&&
(h.add.rhs=e.sifobj.sif.canvas.defs[h.add._rhs]),h.add._scaler&&(h.add.scaler=e.sifobj.sif.canvas.defs[h.add._scaler]),f._set(e,"lhs",i,g[b].add,h.add.lhs),f._set(e,"rhs",i,g[b].add,h.add.rhs),f._set(e,"scalar","real",g[b].add,h.add.scalar),f.convert._set(e,g[b],d,"add")):h.and?(i=h.and._type,g[b]={},g[b].and={},f._set(e,"link1",i,g[b].and,h.and.link1),f._set(e,"link2",i,g[b].and,h.and.link2),f.convert._set(e,g[b],d,"and")):h.atan2?(i=h.atan2._type,g[b]={},g[b].atan2={},h.atan2._x&&(h.atan2.x=e.sifobj.sif.canvas.defs[h.atan2._x]),
h.atan2._y&&(h.atan2.y=e.sifobj.sif.canvas.defs[h.atan2._y]),f._set(e,"x","real",g[b].atan2,h.atan2.x),f._set(e,"y","real",g[b].atan2,h.atan2.y),f.convert._set(e,g[b],d,"atan2")):h.cos?(i=h.cos._type,g[b]={},g[b].cos={},h.cos._angle&&(h.cos.angle=e.sifobj.sif.canvas.defs[h.cos._angle]),h.cos._amp&&(h.cos.amp=e.sifobj.sif.canvas.defs[h.cos._amp]),f._set(e,"angle","angle",g[b].cos,h.cos.angle),f._set(e,"amp","real",g[b].cos,h.cos.amp),f.convert._set(e,g[b],d,"cos")):h.dotproduct?(i=h.dotproduct._type,
g[b]={},g[b].dotproduct={},h.dotproduct._lhs&&(h.dotproduct.lhs=e.sifobj.sif.canvas.defs[h.dotproduct._lhs]),h.dotproduct._rhs&&(h.dotproduct.rhs=e.sifobj.sif.canvas.defs[h.dotproduct._rhs]),f._set(e,"lhs","vector",g[b].dotproduct,h.dotproduct.lhs),f._set(e,"rhs","vector",g[b].dotproduct,h.dotproduct.rhs),f.convert._set(e,g[b],d,"dotproduct")):h.exp?(i=h.exp._type,g[b]={},g[b].exp={},h.exp._exp&&(h.exp.exp=e.sifobj.sif.canvas.defs[h.exp._exp]),h.exp._scale&&(h.exp.scale=e.sifobj.sif.canvas.defs[h.exp._scale]),
f._set(e,"exp","real",g[b].exp,h.exp.exp),f._set(e,"scale","real",g[b].exp,h.exp.scale),f.convert._set(e,g[b],d,"exp")):h.logarithm?(i=h.logarithm._type,g[b]={},g[b].logarithm={},h.logarithm._link&&(h.logarithm.link=e.sifobj.sif.canvas.defs[h.logarithm._link]),f._set(e,"link","real",g[b].logarithm,h.logarithm.link),f._set(e,"epsilon","real",g[b].logarithm,h.logarithm.epsilon),f._set(e,"infinite","real",g[b].logarithm,h.logarithm.infinite),f.convert._set(e,g[b],d,"logarithm")):h.reciprocal?(i=h.reciprocal._type,
g[b]={},g[b].reciprocal={},h.reciprocal._link&&(h.reciprocal.link=e.sifobj.sif.canvas.defs[h.reciprocal._link]),f._set(e,"link","real",g[b].reciprocal,h.reciprocal.link),f._set(e,"epsilon","real",g[b].reciprocal,h.reciprocal.epsilon),f._set(e,"infinite","real",g[b].reciprocal,h.reciprocal.infinite),f.convert._set(e,g[b],d,"reciprocal")):h.subtract?(i=h.subtract._type,g[b]={},g[b].subtract={},h.subtract._lhs&&(h.subtract.lhs=e.sifobj.sif.canvas.defs[h.subtract._lhs]),h.subtract._rhs&&(h.subtract.rhs=
e.sifobj.sif.canvas.defs[h.subtract._rhs]),h.subtract._scalar&&(h.subtract.scalar=e.sifobj.sif.canvas.defs[h.subtract._scalar]),f._set(e,"lhs",i,g[b].subtract,h.subtract.lhs),f._set(e,"rhs",i,g[b].subtract,h.subtract.rhs),f._set(e,"scalar","real",g[b].subtract,h.subtract.scalar),f.convert._set(e,g[b],d,"subtract")):h.sine?(i=h.sine._type,g[b]={},g[b].sine={},h.sine._angle&&(h.sine.angle=e.sifobj.sif.canvas.defs[h.sine._angle]),h.sine._amp&&(h.sine.amp=e.sifobj.sif.canvas.defs[h.sine._amp]),f._set(e,
"angle","angle",g[b].sine,h.sine.angle),f._set(e,"amp","real",g[b].sine,h.sine.amp),f.convert._set(e,g[b],d,"sine")):h.vectorangle?(i=h.vectorangle._type,g[b]={},g[b].vectorangle={},f._set(e,"vector","vector",g[b].vectorangle,h.vectorangle.vector),f.convert._set(e,g[b],d,"vectorangle")):h.greyed?f._set(e,b,d,g,h.greyed.link):(alert("no param type"),alert(JSON.stringify(h)+" layer type : "+e.type))};f._getNumber=function(e,b,d,g,h,i){var j,k;j={paused:!0,useTick:!0};var l=e.timeline,m,p=sifPlayer._secsToMillis;
g[b]={};if(h.animated){h=h.animated.waypoint;g[b].value=h[0][i]._value;j=createjs.Tween.get(g[b],j);"0s"!==h[0]._time&&(m=sifPlayer._getEase(h[0]._before),k=p(h[0]._time),j.to({value:h[0][i]._value},k,m));for(var n=0;n<h.length-1;n++)m=sifPlayer._getEase(h[n+1]._before),k=p(h[n+1]._time)-p(h[n]._time),j.to({value:h[n+1][i]._value},k,m);l.addTween(j)}else h[i]||alert(JSON.stringify(h)+"param_type : "+i+" param_name : "+b+" layer type : "+this.type),g[b].value=h[i]._value;f.convert._set(e,g[b],d,i)};
f._getTime=function(e,b,d,g,h){var i,j;i={paused:!0,useTick:!0};var k=e.timeline,l,m=sifPlayer._secsToMillis;g[b]={};if(h.animated){h=h.animated.waypoint;g[b].value=m(h[0].time._value);i=createjs.Tween.get(g[b],i);"0s"!==h[0]._time&&(l=sifPlayer._getEase(h[0]._before),j=m(h[0]._time),i.to({value:m(h[0].time._value)},j,l));for(var p=0;p<h.length-1;p++)l=sifPlayer._getEase(h[p+1]._before),j=m(h[p+1]._time)-m(h[p]._time),i.to({value:m(h[p+1].time._value)},j,l);k.addTween(i)}else h.time||alert(JSON.stringify(h)+
"param_type : time param_name : "+b+" layer type : "+this.type),g[b].value=m(h.time._value);f.convert._set(e,g[b],d,"integer")};f._getRadial_composite=function(e,b,d,g,h){param_type="radial_composite";g[b]={};g[b]._type=param_type;g[b].radial_composite={};h[param_type]._radius&&(h[param_type].radius=e.sifobj.sif.canvas.defs[h[param_type]._radius]);h[param_type]._theta&&(h[param_type].theta=e.sifobj.sif.canvas.defs[h[param_type]._theta]);f._set(e,"radius","real",g[b][param_type],h[param_type].radius);
f._set(e,"theta","angle",g[b][param_type],h[param_type].theta);f.convert._set(e,g[b],d,param_type)};f._getColor=function(e,b,d,g,h){d={paused:!0,useTick:!0};e=e.timeline;g[b]={};g[b].animated=!0;if(h.animated){w=h.animated.waypoint;g[b].r=w[0].color.r;g[b].g=w[0].color.g;g[b].b=w[0].color.b;g[b].a=w[0].color.a;tw=createjs.Tween.get(g[b],d);"0s"!==w[0]._time&&tw.to({r:w[0].color.r,g:w[0].color.g,b:w[0].color.b,a:w[0].color.a},sifPlayer._secsToMillis(w[0]._time),sifPlayer._getEase(w[0]._before));for(b=
0;b<w.length-1;b++)tw.to({r:w[b+1].color.r,g:w[b+1].color.g,b:w[b+1].color.b,a:w[b+1].color.a},sifPlayer._secsToMillis(w[b+1]._time)-sifPlayer._secsToMillis(w[b]._time),sifPlayer._getEase(w[b+1]._before));e.addTween(tw)}else g[b].r=h.color.r,g[b].g=h.color.g,g[b].b=h.color.b,g[b].a=h.color.a};f._getGradient=function(e,b,d,g,h,f){f="gradient";d={paused:!0,useTick:!0};e=e.timeline;g[b]={};var j;if(h.animated){w=h.animated.waypoint;g[f]={};g[f].color=[];for(var k=0,l=w[0].gradient.color.length;k<l;k++){g[f].color.push({});
j=g[f].color[k];b=w[0].gradient.color[k];j.pos=b._pos;j.r=b.r;j.g=b.g;j.b=b.b;j.a=b.a;tw=createjs.Tween.get(j,d);"0s"!==w[0]._time&&tw.to({pos:b._pos,r:b.r,g:b.g,b:b.b,a:b.a},sifPlayer._secsToMillis(w[0]._time),sifPlayer._getEase(w[0]._before));h=0;for(j=w.length-1;h<j;h++)b=w[h+1].gradient.color[k],tw.to({pos:b._pos,r:b.r,g:b.g,b:b.b,a:b.a},sifPlayer._secsToMillis(w[h+1]._time)-sifPlayer._secsToMillis(w[h]._time),sifPlayer._getEase(w[h+1]._before));e.addTween(tw)}}else{g[f]={};g[f].color=[];k=0;
for(l=h[f].color.length;k<l;k++)g[f].color.push({}),j=g[f].color[k],b=h[f].color[k],j.pos=b._pos,j.r=b.r,j.g=b.g,j.b=b.b,j.a=b.a}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.vector={_get:function(f,e,b,d,g){var h,i;h={paused:!0,useTick:!0};var j=f.timeline;d[e]={};if(g.animated){g=g.animated.waypoint;d[e].x=g[0].vector.x;d[e].y=g[0].vector.y;h=createjs.Tween.get(d[e],h);"0s"!==g[0]._time&&(i=sifPlayer._secsToMillis(g[0]._time),h.to({x:g[0].vector.x,y:g[0].vector.y},i,sifPlayer._getEase(g[0]._before)));for(var k=0;k<g.length-1;k++)i=sifPlayer._secsToMillis(g[k+1]._time)-sifPlayer._secsToMillis(g[k]._time),h.to({x:g[k+1].vector.x,y:g[k+1].vector.y},
i,sifPlayer._getEase(g[k+1]._before));j.addTween(h);sifPlayer.param.convert._set(f,d[e],b,"vector")}else g.vector?(d[e].x=g.vector.x,d[e].y=g.vector.y,sifPlayer.param.convert._set(f,d[e],b,"vector",!1)):alert(JSON.stringify(g)+" in vector")},_setConvert:function(f,e,b,d){f=sifPlayer.param.vector;b===d?(e.getX=f.getX,e.getY=f.getY,e.setVector=f.setVector,e.setX=f.setX,e.setY=f.setY):"radial_composite"===d?(e.getX=f.getRadialX,e.getY=f.getRadialY):"composite"===d?(e.getX=f.getCompositeX,e.getY=f.getCompositeY):
"add"===d?(e.getX=f.getAddX,e.getY=f.getAddY):"scale"===d?e.scale.composite?(e.getX=f.getScaleCompositeX,e.getY=f.getScaleCompositeY):e.scale.radial_composite?(e.getX=f.getScaleRadialX,e.getY=f.getScaleRadialY):(e.getX=f.getScaleX,e.getY=f.getScaleY):"subtract"===d&&(e.getX=f.getSubX,e.getY=f.getSubY)},setVector:function(f,e){this.x=f;this.y=e},setX:function(f){this.x=f},setY:function(f){this.y=f},getX:function(){return this.x},getY:function(){return this.y},getScaleX:function(){return this.scale.link.getX()*
this.scale.scalar.getValue()},getScaleY:function(){return this.scale.link.getY()*this.scale.scalar.getValue()},getScaleCompositeX:function(){return this.scale.composite.x.getValue()*this.scalar.getValue()},getScaleCompositeY:function(){return this.scale.composite.y.getValue()*this.scalar.getValue()},getScaleRadialX:function(){var f=this.scale.radial_composite.theta.getValue()*Math.PI/180,e=this.scale.radial_composite.radius.getValue();return Math.cos(f)*e*this.scalar.getValue()},getScaleRadialY:function(){var f=
this.scale.radial_composite.theta.getValue()*Math.PI/180,e=this.scale.radial_composite.radius.getValue();return Math.sin(f)*e*this.scalar.getValue()},getRadialX:function(){var f=this.radial_composite.theta.getValue()*Math.PI/180,e=this.radial_composite.radius.getValue();return Math.cos(f)*e},getRadialY:function(){var f=this.radial_composite.theta.getValue()*Math.PI/180,e=this.radial_composite.radius.getValue();return Math.sin(f)*e},getCompositeX:function(){return this.composite.x.getValue()},getCompositeY:function(){return this.composite.y.getValue()},
getAddX:function(){return(this.add.lhs.getX()+this.add.rhs.getX())*this.add.scalar.getValue()},getAddY:function(){return(this.add.lhs.getY()+this.add.rhs.getY())*this.add.scalar.getValue()},getSubX:function(){return(this.subtract.lhs.getX()-this.subtract.rhs.getX())*this.subtract.scalar.getValue()},getSubY:function(){return(this.subtract.lhs.getY()-this.subtract.rhs.getY())*this.subtract.scalar.getValue()}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.integer={_setConvert:function(f,e,b,d){f=sifPlayer.param.integer;b===d?(e.getValue=f.getValue,e.setValue=f.setValue):f[d]?e.getValue=f[d]:alert("no convert for integer to "+d)},setValue:function(f){this.value=f},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var f={degsToRad:0.0174532925,_setConvert:function(e,b,d,g){e=sifPlayer.param.real;d===g?(b.getValue=e.getValue,b.setValue=e.setValue):e[g]?b.getValue=e[g]:alert("no convert for real to "+g)},setValue:function(e){this.value=e},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()},cos:function(){return this.cos.amp.getValue()*Math.cos(this.cos.angle.getValue()*f.degsToRad)},sine:function(){return this.sine.amp.getValue()*Math.sin(this.sine.angle.getValue()*f.degsToRad)},dotproduct:function(){var e,b,d,g;e=this.dotproduct.lhs.getX();b=this.dotproduct.lhs.getY();d=this.dotproduct.rhs.getX();g=this.dotproduct.rhs.getY();return e*d+b*g},exp:function(){return Math.exp(this.exp.exp.getValue())*this.exp.scale.getValue()},logarithm:function(){var e=this.logarithm.link.getValue();
return e>=this.logarithm.epsilon.getValue()?Math.log(e):-this.logarithm.infinite.getValue()},reciprocal:function(){var e=this.reciprocal.link.getValue();return e>=this.reciprocal.epsilon.getValue()?1/e:-this.reciprocal.infinite.getValue()}};sifPlayer.param.real=f})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.angle={_setConvert:function(f,e,b,d){f=sifPlayer.param.angle;b===d?(e.getValue=f.getValue,e.setValue=f.setValue):f[d]?e.getValue=f[d]:alert("no convert for angle to "+d)},setValue:function(f){this.value=f},getValue:function(){return this.value},add:function(){return(this.add.lhs.getValue()+this.add.rhs.getValue())*this.add.scalar.getValue()},subtract:function(){return(this.subtract.lhs.getValue()-this.subtract.rhs.getValue())*this.subtract.scalar.getValue()},scale:function(){return this.scale.link.getValue()*
this.scale.scalar.getValue()},atan2:function(){return 180*(Math.atan2(this.atan2.y.getValue(),this.atan2.x.getValue())/Math.PI)},dotproduct:function(){var f,e,b,d;f=this.dotproduct.lhs.getX();e=this.dotproduct.lhs.getY();b=this.dotproduct.rhs.getX();d=this.dotproduct.rhs.getY();return 180*(Math.acos((f*b+e*d)/(Math.sqrt(f*f+e*e)*Math.sqrt(b*b+d*d)))/Math.PI)},vectorangle:function(){return 180*(Math.atan2(this.vectorangle.vector.getY(),this.vectorangle.vector.getX())/Math.PI)}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){sifPlayer.param.bool={_get:function(f,e,b,d,g){var h=sifPlayer.param,i,j;i={paused:!0,useTick:!0};var k=f.sifobj.timeline,l,m=0,p=[0,1];d[e]={};if(g.animated){g=g.animated.waypoint;d[e].value=g[0].bool._value;i=createjs.Tween.get(d[e],i);"0s"!==g[0]._time&&(l=sifPlayer.Ease.bool,j=sifPlayer._secsToMillis(g[0]._time),i.to({value:g[0].bool._value},j,l));for(var n=0;n<g.length-1;n++)l=p[1-m]?sifPlayer.Ease.bool:sifPlayer.Ease.constant,m=1-m,j=sifPlayer._secsToMillis(g[n+1]._time)-sifPlayer._secsToMillis(g[n]._time),
g[n].bool._value!==g[n+1].bool._value?i.to({value:g[n+1].bool._value},j,l):i.wait(j);k.addTween(i)}else g.bool||alert(JSON.stringify(g)+"param_type : bool param_name : "+e+" layer type : "+this.type),d[e].value=g.bool._value;h.convert._set(f,d[e],b,"bool")},_setConvert:function(f,e,b,d){f=sifPlayer.param.bool;b===d?(e.getValue=f.getValue,e.setValue=f.setValue):"and"===d&&(e.getValue=f.getAnd)},setValue:function(f){this.value=f},getValue:function(){return this.value},getAnd:function(){return this.link1&&
this.link2}}})();this.sifPlayer.param=this.sifPlayer.param||{};
(function(){var f={_get:function(e,b,d,g,h){var f=sifPlayer.param,j=f._set,k="composite";g[b]={};g[b]._type=k;g[b].composite={};if("vector"===h.composite._type)h[k]._x&&(h[k].x=e.sifobj.sif.canvas.defs[h[k]._x]),h[k]._y&&(h[k].y=e.sifobj.sif.canvas.defs[h[k]._y]),j(e,"x","real",g[b].composite,h.composite.x),j(e,"y","real",g[b].composite,h.composite.y),f.convert._set(e,g[b],d,k);else if("bline_point"===h.composite._type){var l=g[b].composite,k=h.composite._type;h.composite._point&&(h.composite.point=
e.sifobj.sif.canvas.defs[h.composite._point]);j(e,"point","vector",l,h.composite.point);j(e,"width","real",l,h.composite.width);j(e,"origin","real",l,h.composite.origin);j(e,"split","bool",l,h.composite.split);j(e,"t1","vector",l,h.composite.t1);j(e,"t2","vector",l,h.composite.t2);f.convert._set(e,g[b].composite,d,k,h.composite.point.animated||h.composite.width.animated||h.composite.origin.animated||h.composite.t1.animated||h.composite.t2.animated)}},_setConvert:function(e,b,d,g){"bline_point"===
g?(b.getPoint=f.getPoint,b.getT1=f.bline_point_getT1,b.getT2=f.bline_point_getT2):alert("new type of point")},getPoint:function(){return this.point},bline_point_getPoint:function(){return this.point},bline_point_getT1:function(){return{x:this.t1.getX()/3,y:this.t1.getY()/3}},bline_point_getT2:function(){return{x:this.t2.getX()/3,y:this.t2.getY()/3}}};sifPlayer.param.composite=f})();this.sifPlayer.param=this.sifPlayer.param||{};this.sifPlayer.param.convert=this.sifPlayer.param.convert||{};(function(){sifPlayer.param.convert._set=function(f,e,b,d){"vector"===b?sifPlayer.param[b]._setConvert(f,e,b,d):"real"===b?sifPlayer.param[b]._setConvert(f,e,b,d):"integer"===b?sifPlayer.param[b]._setConvert(f,e,b,d):"angle"===b?sifPlayer.param[b]._setConvert(f,e,b,d):"bool"===b?sifPlayer.param[b]._setConvert(f,e,b,d):"composite"===b&&sifPlayer.param[b]._setConvert(f,e,b,d)}})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Shape;e.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this._getBline(b.bline);d(this,"blend_method","integer",this,b.blend_method);d(this,"amount","real",this,b.amount);d(this,"origin","vector",this,b.origin);d(this.bline,"color","color",this,b.color);b.width&&d(this.bline,"width","real",this,b.width);sifPlayer._addToDesc(this,b);this.entries=
this.collectEntries();this.makeShape();this.aabb=sifPlayer.aabbFromEntries(this.entries,this.width?this.width.getValue():null);this.getMatrix()};e._getBline=function(b){var d=sifPlayer.param._set;this.bline={};this.bline.sifobj=this.sifobj;this.bline.timeline=new createjs.Timeline;this.bline.timeline.setPaused(!0);this.bline.entry=[];this.bline.loop=b.bline._loop;for(var g=0,e=b.bline.entry.length;g<e;g++){var f={};d(this.bline,"composite","composite",f,b.bline.entry[g]);this.bline.entry.push(f.composite)}};
e.collectEntries=function(){var b=[],d,g;d=this.bline.entry[0].composite.getPoint();b.push([d.getX(),d.getY()]);for(var e=0,f=this.bline.entry.length-1;e!==f;e++)d=this.bline.entry[e].composite,g=this.bline.entry[e+1].composite,d.split.getValue()?b.push(this._bezierEntry(d.getPoint(),g.getPoint(),d.getT2(),g.getT1())):b.push(this._bezierEntry(d.getPoint(),g.getPoint(),d.getT1(),g.getT1()));this.bline.loop&&(d=this.bline.entry[this.bline.entry.length-1].composite,g=this.bline.entry[0].composite,d.split.getValue()?
b.push(this._bezierEntry(d.getPoint(),g.getPoint(),d.getT2(),g.getT1())):b.push(this._bezierEntry(d.getPoint(),g.getPoint(),d.getT1(),g.getT1())));return b};e._bezierEntry=function(b,d,g,e){var f;f=g.x+b.getX();b=g.y+b.getY();g=-e.x+d.getX();e=-e.y+d.getY();return[f,b,g,e,d.getX(),d.getY()]};e.makeShape=function(){var b=this.entries,d=this.graphics;d.clear();d.f(createjs.Graphics.getRGB(Math.round(256*this.color.r),Math.round(256*this.color.g),Math.round(256*this.color.b),this.color.a));d.mt(b[0][0],
b[0][1]);for(var g=1,e=b.length;g!==e;g++)d.bt(b[g][0],b[g][1],b[g][2],b[g][3],b[g][4],b[g][5]);d.ef()};e.setPosition=function(b){this.timeline.setPosition(b);this.bline.timeline.setPosition(b);this.animated=sifPlayer._checkTimeline(this.timeline);this.updateShape();return b};e.updateShape=function(){var b;b=this.width?this.width.getValue():null;if(sifPlayer._checkTimeline(this.bline.timeline))this.entries=this.collectEntries(),this.makeShape(),this.uncache(),this.animated=!0;else if(b=sifPlayer.aabbFromEntries(this.entries,
b),this.setBounds(b[0],b[1],b[2]-b[0],b[3]-b[1]),!this.cacheID){var d=Math.abs(sifPlayer.easelSif.getTotalScale(this));this.cache(b[0],b[1],b[2]-b[0],b[3]-b[1],d)}};e.compareEntries=function(b){var d=this.entries;if(this.entries){if(d[0][0]!==b[0][0]||d[0][1]!==b[0][1])return!1;for(var g=1,e=d.length;g<e;g++)if(d[g][0]!==b[g][0]||d[g][1]!==b[g][1]||d[g][2]!==b[g][2]||d[g][3]!==b[g][3]||d[g][4]!==b[g][4]||d[g][5]!==b[g][5])return!1}else return!1;return!0};e.updateContext=function(b){var d=this.getMatrix();
b.globalAlpha*=this.amount.getValue();b.globalCompositeOperation=sifPlayer.easelSif._getBlend(this.blend_method.getValue());b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)};e.getMatrix=function(b){var b=this.origin.getX(),d=this.origin.getY(),b=this._matrix.identity().appendTransform(b,d,1,1,0,0,0,0,0);return b=b.copy(b)};sifPlayer.easelSif.region=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Container;e.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;this.type="group";d(this,"amount","real",this,b.amount);d(this,"blend_method","integer",this,b.blend_method);d(this,"origin","vector",this,b.origin);this.transformation={};var g=b.transformation.composite;g&&(d(this,"offset",
"vector",this.transformation,g.offset),d(this,"angle","angle",this.transformation,g.angle),d(this,"skew_angle","angle",this.transformation,g.skew_angle),d(this,"scale","vector",this.transformation,g.scale),d(this,"skew_angle","angle",this.transformation,g.skew_angle),this.getMatrix=f.getMatrixComposite,this.scaleX=this.transformation.scale.getX());if(g=b.transformation.bone_link){this.bone=g.bone[0].bone_valuenode._guid;var g=b.transformation.bone_link.base_value.composite,e={};d(this,"offset","vector",
e,g.offset);d(this,"angle","angle",e,g.angle);d(this,"skew_angle","vector",e,g.skew_angle);d(this,"scale","vector",e,g.scale);this.base_value=e;this.getMatrix=f.getMatrixBone;this.getMatrix()}sifPlayer._addToDesc(this,b);if(b.canvas)if(b.canvas.canvas)this._getLayers(b.canvas.canvas.layer);else if(d=b.canvas._use,0<d.search("#")){b=this.sifobj.sifPath+d.slice(0,d.length-1);this._use=new sifPlayer.easelSif.SifObject;this._use.preload=this.sifobj.preload;this._use.init(this.sifobj.preload.getResult(b));
b=this._use.children.slice(0);d=0;for(g=b.length;d<g;d++)this.addChild(b[d]);this._use.removeAllChildren()}else this._getLayers(this.sifobj.sif.canvas.defs[b.canvas._use].canvas.layer)};e._getLayers=sifPlayer.easelSif.SifObject.prototype._getLayers;e.moveChildrenTo=sifPlayer.easelSif.SifObject.prototype.moveChildrenTo;e.setPosition=function(b,d){this.childAnimated=!1;this.animated=this.bone?!0:sifPlayer._checkTimeline(this.timeline);var g;this.timeline.setPosition(b);g=this.timeline.position;for(var e=
this.children,f=0,j=e.length;f<j;f++)g=e[f].unsynced?e[f].setPosition(e[f].timeline.position+d,d):e[f].setPosition(g,d),e[f].animated&&(e[f].uncache(),this.childAnimated=this.animated=!0);this.childAnimated&&this.uncache();!this.childAnimated&&(!this.cacheID&&"group"===this.type)&&(this.uncache(),g=Math.abs(sifPlayer.easelSif.getTotalScale(this)),(e=this.getBounds())&&this.cache(e.x,e.y,e.width,e.height,g));return b};e.updateContext=function(b){var d=this.getMatrix();b.globalAlpha*=this.amount.getValue();
b.globalCompositeOperation=sifPlayer.easelSif._getBlend(this.blend_method.getValue());b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)};f.getMatrixBone=function(b){var b=this.base_value,d=this._matrix.copy(this.sifobj.sif.bones.guid[this.bone]._m);d.appendTransform(b.offset.getX(),b.offset.getY(),b.scale.getX(),b.scale.getY(),b.angle.getValue(),0,0,0,0);return b=d.copy(d)};f.getMatrixComposite=function(b){var d=this.transformation,b=this.origin.getX()+d.offset.getX(),e=this.origin.getY()+d.offset.getY(),f=
this.scaleX=d.scale.getX(),i=this.scaleY=d.scale.getY(),d=d.angle.getValue(),b=this._matrix.identity().appendTransform(b,e,f,i,d,0,0,0,0);return b=b.copy(b)};sifPlayer.easelSif.group=f})();(function(){function f(b,e){this.sifobj=b;this.init(e)}var e=sifPlayer.easelSif.region.prototype,b=f.prototype=new createjs.Shape;b.init=e.init;b._getBline=e._getBline;b.collectEntries=e.collectEntries;b.compareEntries=e.compareEntries;b._bezierEntry=e._bezierEntry;b.setPosition=e.setPosition;b.updateShape=e.updateShape;b.updateContext=e.updateContext;b.getMatrix=e.getMatrix;b.updateValues=function(){this.updateValuesRegion()};b.makeShape=function(){var b=this.entries,e=this.graphics;e.clear();e.setStrokeStyle(this.width.getValue());
e.s(createjs.Graphics.getRGB(Math.round(256*this.color.r),Math.round(256*this.color.g),Math.round(256*this.color.b),this.color.a));e.mt(b[0][0],b[0][1]);for(var f=1,i=b.length;f!==i;f++)e.bt(b[f][0],b[f][1],b[f][2],b[f][3],b[f][4],b[f][5]);e.es()};sifPlayer.easelSif.outline=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Shape;e.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;d(this,"amount","real",this,b.amount);d(this,"origin","vector",this,b.origin);d(this,"radius","real",this,b.radius);d(this,"blend_method","integer",this,b.blend_method);d(this,"color","color",this,b.color);sifPlayer._addToDesc(this,
b);this.makeShape()};e.makeShape=function(){var b=this.graphics;this.rad=this.radius.getValue();this.r=this.color.r;this.g=this.color.g;this.b=this.color.b;this.a=this.color.a;b.f(createjs.Graphics.getRGB(Math.round(256*this.r),Math.round(256*this.g),Math.round(256*this.b),this.a));b.dc(0,0,this.rad);b.ef()};e.setPosition=function(b){this.timeline.setPosition(b);return b};e.updateContext=function(b){var d=this.getMatrix(this._matrix);b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.globalAlpha*=this.amount.getValue();
b.globalCompositeOperation=sifPlayer.easelSif._getBlend(this.blend_method.getValue())};e.getMatrix=sifPlayer.easelSif.region.prototype.getMatrix;sifPlayer.easelSif.circle=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Bitmap;e.init=function(b){var d=sifPlayer.param._set;this.initialize(this.sifobj.preload.getResult(this.sifobj.sifPath+b.filename.string));this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);d(this,"amount","real",this,b.amount);d(this,"blend_method","integer",this,b.blend_method);d(this,"tl","vector",this,b.tl);d(this,"br","vector",this,b.br);sifPlayer._addToDesc(this,b)};e.setPosition=function(b){this.timeline.setPosition(b);
return b};e.updateContext=function(b){var d=this.getMatrix(this._matrix);b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.globalAlpha*=this.amount.getValue();b.globalCompositeOperation=sifPlayer.easelSif._getBlend(this.blend_method.getValue())};e.getMatrix=function(b){var d=this.br.getX(),e=this.br.getY(),b=this.tl.getX(),f=this.tl.getY(),i,j,d=d-b,e=f-e;0>=d?(i=-1,d*=-1):i=1;0>=e?(j=1,e*=-1):j=-1;i=i/this.image.width*d;j=j/this.image.height*e;b=this._matrix.identity().appendTransform(b,f,i,j,0,0,0,0,0);
return b=b.copy(b)};sifPlayer.easelSif.Import=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Container;e.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.duration=this.sifobj.timeline.duration;this.timeline.setPaused(!0);d(this,"origin","vector",this,b.origin);d(this,"amount","angle",this,b.amount);sifPlayer._addToDesc(this,b)};e.setPosition=sifPlayer.easelSif.group.prototype.setPosition;e.updateContext=function(b){var d=this.getMatrix();b.transform(d.a,
d.b,d.c,d.d,d.tx,d.ty)};e.getMatrix=function(b){var b=this.origin.getX(),d=this.origin.getY(),e=this.amount.getValue(),b=this._matrix.identity().appendTransform(b,d,1,1,e,0,0,b,b);return b=b.copy(b)};sifPlayer.easelSif.rotate=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Container;e.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;d(this,"amount","vector",this,b.amount);d(this,"center","vector",this,b.center);sifPlayer._addToDesc(this,b);this.getMatrix()};e.setPosition=sifPlayer.easelSif.group.prototype.setPosition;e.updateContext=function(b){var d=this.getMatrix();
b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)};e.getMatrix=function(b){var b=this.center.getX(),d=this.center.getY(),e=this.scaleX=this.amount.getX(),f=this.amount.getY(),b=this._matrix.identity().appendTransform(b,d,e,f,0,0,0,b,b);return b=b.copy(b)};sifPlayer.easelSif.stretch=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Container;e.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.duration=this.sifobj.timeline.duration;this.timeline.setPaused(!0);d(this,"origin","vector",this,b.origin);sifPlayer._addToDesc(this,b)};e.setPosition=sifPlayer.easelSif.group.prototype.setPosition;e.updateContext=function(b){var d=this.getMatrix(this._matrix);b.transform(d.a,d.b,d.c,d.d,d.tx,
d.ty)};e.getMatrix=sifPlayer.easelSif.region.prototype.getMatrix;sifPlayer.easelSif.translate=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Container;e.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;d(this,"center","vector",this,b.center);d(this,"amount","real",this,b.amount);sifPlayer._addToDesc(this,b);this.getMatrix()};e.setPosition=sifPlayer.easelSif.rotate.prototype.setPosition;e.updateContext=function(b){var d=this.getMatrix();
b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)};e.getMatrix=function(b){var b=this.center.getX(),d=this.center.getY(),e=this.scaleX=Math.exp(this.amount.getValue()),b=this._matrix.identity().appendTransform(b,d,e,e,0,0,0,b/e,b/e);return b=b.copy(b)};sifPlayer.easelSif.zoom=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.DisplayObject;e.init=function(b){var d=sifPlayer.param._set;this.initialize();this.timeline=new createjs.Timeline;this.timeline.setPaused(!0);this.timeline.duration=this.sifobj.timeline.duration;d(this,"link_time","integer",this,b.link_time);d(this,"local_time","integer",this,b.local_time);d(this,"duration","integer",this,b.duration);sifPlayer._addToDesc(this,b)};e.setPosition=function(b){this.timeline.tick(b-this.timeline.position);
var d=this.duration.getValue(),e=this.link_time.getValue(),f=this.local_time.getValue(),b=(b+f)%d;return 0!=d?0<d?b+e:e-b:e};sifPlayer.easelSif.timeloop=f})();(function(){function f(b,d){this.sifobj=b;this.init(d)}var e=f.prototype=new createjs.Shape;e.init=function(b){var d=sifPlayer.param._set;this.initialize();d(this,"amount","real",this,b.amount);this._getBones(b.bones);sifPlayer._addToDesc(this,b)};e._getBones=function(b){for(var d=[],b=b.static_list.entry,e=0,f=b.length;e<f;e++)d[e]=b[e].bone[0]._guid;this.bones=d};e.setPosition=function(b){for(var d=this.sifobj.sif.bones.guid,e=this.bones,f=e.length-1;0<=f;f--)d[e[f]].setPosition(b),d[e[f]].animated=
sifPlayer._checkTimeline(d[e[f]].timeline);this.animated=!0;return b};sifPlayer.easelSif.skeleton=f})();
